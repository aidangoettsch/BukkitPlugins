package com.yayestechlab.minecraft.jumppads.config;

import java.util.List;

import org.bukkit.configuration.InvalidConfigurationException;
import org.bukkit.configuration.file.YamlConfiguration;
import org.bukkit.util.Vector;

public abstract class PadFileConfiguration extends YamlConfiguration {

	protected abstract String buildHeader();

	public abstract void loadFromString(String arg0) throws InvalidConfigurationException;

	public abstract String saveToString();

	public String getKeyByValueVector(Vector v) {
		List<String> keys = getStringList("keylist");
		for (String key : keys) {
			if (getVector(key).equals(v)){
				return key;
			}
		}
		return null;
	}

	public void set(String arg0, Object arg1){
		super.set(arg0, arg1);
		List<String> keys = getStringList("keylist");
		if (arg1 != null){
			if (!keys.contains(arg0)){
				keys.add(arg0);
				super.set("keylist", keys);
			}
		}
	}
}
